From d36582aad3eb4a7ebb2f0fe1682ed031ef8a91a8 Mon Sep 17 00:00:00 2001
From: Yang Yujie <yangyujie@loongson.cn>
Date: Fri, 6 Jan 2023 15:46:57 +0800
Subject: [PATCH 19/28] LoongArch: prevent the loss of ordering info between
 -m[no-]lsx and -m[no-]lasx.

Change-Id: I66fef1dc2483615d845348faa1d156b225142320
---
 src/gcc/config/loongarch/genopts/loongarch.opt.in | 4 ++--
 src/gcc/config/loongarch/loongarch.opt            | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/gcc/config/loongarch/genopts/loongarch.opt.in b/src/gcc/config/loongarch/genopts/loongarch.opt.in
index 585d202aa..4e8809e6d 100644
--- a/src/gcc/config/loongarch/genopts/loongarch.opt.in
+++ b/src/gcc/config/loongarch/genopts/loongarch.opt.in
@@ -80,11 +80,11 @@ Target Driver RejectNegative Var(la_opt_switches) Mask(FORCE_F64) Negative(m@@OP
 Allow hardware floating-point instructions to cover both 32-bit and 64-bit operations.
 
 m@@OPTSTR_LSX@@
-Target Var(la_opt_switches) Mask(LSX) Negative(m@@OPTSTR_LSX@@)
+Target Var(la_opt_switches) Mask(LSX) Negative(m@@OPTSTR_LASX@@)
 Enable LoongArch SIMD Extension (LSX).
 
 m@@OPTSTR_LASX@@
-Target Var(la_opt_switches) Mask(LASX) Negative(m@@OPTSTR_LASX@@)
+Target Var(la_opt_switches) Mask(LASX) Negative(m@@OPTSTR_LSX@@)
 Enable LoongArch Advanced SIMD Extension (LASX).
 
 ;; Base target models (implies ISA & tune parameters)
diff --git a/src/gcc/config/loongarch/loongarch.opt b/src/gcc/config/loongarch/loongarch.opt
index 4811964aa..c1ecd77b6 100644
--- a/src/gcc/config/loongarch/loongarch.opt
+++ b/src/gcc/config/loongarch/loongarch.opt
@@ -87,11 +87,11 @@ Target Driver RejectNegative Var(la_opt_switches) Mask(FORCE_F64) Negative(msoft
 Allow hardware floating-point instructions to cover both 32-bit and 64-bit operations.
 
 mlsx
-Target Var(la_opt_switches) Mask(LSX) Negative(mlsx)
+Target Var(la_opt_switches) Mask(LSX) Negative(mlasx)
 Enable LoongArch SIMD Extension (LSX).
 
 mlasx
-Target Var(la_opt_switches) Mask(LASX) Negative(mlasx)
+Target Var(la_opt_switches) Mask(LASX) Negative(mlsx)
 Enable LoongArch Advanced SIMD Extension (LASX).
 
 ;; Base target models (implies ISA & tune parameters)
-- 
2.31.1

