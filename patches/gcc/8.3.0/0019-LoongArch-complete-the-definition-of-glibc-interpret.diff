From a8c6722881c3613475d8a26a6102497c935b493a Mon Sep 17 00:00:00 2001
From: Yang Yujie <yangyujie@loongson.cn>
Date: Fri, 6 Jan 2023 16:14:08 +0800
Subject: [PATCH 18/28] LoongArch: complete the definition of glibc interpreter
 paths for lp64s/lp64f.

Change-Id: Iadb19e27511a2c1ac2ac8fa62b34a733fb3e1bca
---
 src/gcc/config/loongarch/gnu-user.h | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/gcc/config/loongarch/gnu-user.h b/src/gcc/config/loongarch/gnu-user.h
index 357027776..603aed5a2 100644
--- a/src/gcc/config/loongarch/gnu-user.h
+++ b/src/gcc/config/loongarch/gnu-user.h
@@ -31,7 +31,10 @@ along with GCC; see the file COPYING3.  If not see
 
 #undef GLIBC_DYNAMIC_LINKER
 #define GLIBC_DYNAMIC_LINKER \
-  "/lib" ABI_GRLEN_SPEC "/ld.so.1"
+  "/lib" ABI_GRLEN_SPEC "/" \
+  "%{mabi=lp64d:ld.so.1;" \
+    "mabi=lp64s:ld-linux-loongarch-lp64s.so.1;" \
+    "mabi=lp64f:ld-linux-loongarch-lp64f.so.1}"
 
 #undef MUSL_DYNAMIC_LINKER
 #define MUSL_DYNAMIC_LINKER \
-- 
2.31.1

